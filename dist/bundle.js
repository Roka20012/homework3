!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(){let e=0;this.getScore=function(){return e},this.setScore=function(t){e=t},this.resetScore=function(){e=0}}n.r(t),Storage.prototype.setObj=function(e,t){return this.setItem(e,JSON.stringify(t))},Storage.prototype.getObj=function(e){return JSON.parse(this.getItem(e))};const o=2,l=100;let a,c,i,s;const u=document.querySelector(".input-scores"),d=document.querySelector(".dice-1"),m=document.querySelector(".dice-2"),y=document.getElementById("name-0"),p=document.getElementById("name-1");let f=new r,S=new r;const g=()=>{u.disabled&&(u.value="",u.disabled=!u.disabled),b(),f.resetScore(),S.resetScore(),s=0,i=0,c=0,a=[0,0],document.querySelector(".player-0-panel").classList.add("active"),document.querySelector(".player-1-panel").classList.remove("active"),document.querySelector("#current-0").textContent=0,document.querySelector("#current-1").textContent=0,document.querySelector("#score-0").textContent=0,document.querySelector("#score-1").textContent=0,d.style.display="none",m.style.display="none"},b=e=>{let t=!!localStorage.getObj("winners")&&localStorage.getObj("winners");for(f.name=prompt("Enter player1 name:","Vitalik")||"Игрок 1";t[f.name]&&!confirm(f.name+" already exist, it is you?");)f.name=prompt("Enter player1 name:","Vitalik")||"Игрок 1";for(S.name=prompt("Enter player2 name:","Bro")||"Игрок 2";t[S.name]&&!confirm(S.name+" already exist, it is you?");)S.name=prompt("Enter player2 name:","Vitalik")||"Игрок 2";for(;f.name===S.name;)for(S.name=prompt("Can not be two "+f.name+" enter new name","")||"Player2";t[S.name]&&!confirm(S.name+" already exist, it is you?");)S.name=prompt("Enter player2 name:","Bro")||"Игрок 2";y.textContent=f.name,p.textContent=S.name};const w=()=>{i=0,document.getElementById("current-"+c).textContent=0,document.querySelector(`.player-${c}-panel`).classList.toggle("active"),c=+!c,d.style.display="none",m.style.display="none",document.querySelector(`.player-${c}-panel`).classList.toggle("active")},v=document.querySelector(".show-winners"),O=document.querySelector(".btn-roll"),j=document.querySelector(".btn-new"),x=document.querySelector(".btn-hold");g(),O.addEventListener("click",function(){u.disabled||(u.disabled=!u.disabled);let e=Math.floor(6*Math.random())+1,t=Math.floor(6*Math.random())+1;if(d.src=`dice-${e}.png`,d.style.display="block",m.src=`dice-${t}.png`,m.style.display="block",e!==o&&t!==o&&e!==t){if(i+=e+t,document.getElementById("current-"+c).textContent=i,c?S.setScore(a[c]+i):f.setScore(a[c]+i),a[c]+i>=(s||l)){let e=c?S:f,t=e.name;if(e.winCount?e.winCount++:e.winCount=1,localStorage.getObj("winners")){let n=localStorage.getObj("winners");console.log(e.winCount),console.log("winner",t),n[t]=n[t]?++n[t]:e.winCount,console.log("winners",n),localStorage.setObj("winners",n)}else{let n={};n[t]=e.winCount,localStorage.setObj("winners",n)}alert(`${e.name} won!!!`),g()}}else c?S.setScore(a[c]):f.setScore(a[c]),w()}),u.addEventListener("keyup",({target:e})=>s=e.valueAsNumber),v.addEventListener("click",e=>{let t=!!localStorage.getObj("winners")&&localStorage.getObj("winners"),n="";if(t){for(let e in t)n+=`${e} win ${t[e]} times\n`;alert(n)}else alert("Nothing to show")}),j.addEventListener("click",g),x.addEventListener("click",()=>{u.disabled||(u.disabled=!u.disabled),a[c]+=i,c?S.setScore(a[c]):f.setScore(a[c]);let e=c?S.getScore():f.getScore();document.querySelector(`#score-${c}`).textContent=e,w()})}]);